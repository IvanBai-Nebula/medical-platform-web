/* Element Plus 黑暗模式样式覆盖 */

/* 下拉菜单强制样式 */
.el-dropdown-menu {
  background: var(--color-bg-elevated) !important;
  border: 1px solid var(--color-border-primary) !important;
  color: var(--color-text-primary) !important;
  box-shadow: var(--shadow-lg) !important;
}

.el-dropdown-menu__item {
  color: var(--color-text-primary) !important;
  background-color: transparent !important;
  
  &:hover {
    background: var(--color-bg-secondary) !important;
    color: var(--color-primary) !important;
  }
  
  &:focus {
    background: var(--color-bg-secondary) !important;
    color: var(--color-primary) !important;
  }
  
  .el-icon {
    color: var(--color-text-primary) !important;
  }
  
  span {
    color: var(--color-text-primary) !important;
  }
}

/* 针对黑暗主题的特殊处理 - 使用硬编码颜色 */
[data-theme='dark'] {
  .el-dropdown-menu {
    background: #1e1e1e !important;
    border-color: #424242 !important;
    color: #ffffff !important;
  }
  
  .el-dropdown-menu__item {
    color: #ffffff !important;
    background-color: transparent !important;
    
    &:hover {
      background: #2d2d2d !important;
      color: #90caf9 !important;
    }
    
    &:focus {
      background: #2d2d2d !important;
      color: #90caf9 !important;
    }
    
    .el-icon {
      color: #ffffff !important;
    }
    
    span {
      color: #ffffff !important;
    }
  }
}

.dark {
  .el-dropdown-menu {
    background: #1e1e1e !important;
    border-color: #424242 !important;
    color: #ffffff !important;
  }
  
  .el-dropdown-menu__item {
    color: #ffffff !important;
    background-color: transparent !important;
    
    &:hover {
      background: #2d2d2d !important;
      color: #90caf9 !important;
    }
    
    &:focus {
      background: #2d2d2d !important;
      color: #90caf9 !important;
    }
    
    .el-icon {
      color: #ffffff !important;
    }
    
    span {
      color: #ffffff !important;
    }
  }
}

/* Popper 容器样式覆盖 */
.el-popper.is-light {
  .el-dropdown-menu {
    background: var(--color-bg-elevated) !important;
    border-color: var(--color-border-primary) !important;
    color: var(--color-text-primary) !important;
  }
  
  .el-dropdown-menu__item {
    color: var(--color-text-primary) !important;
    background-color: transparent !important;
    
    &:hover {
      background: var(--color-bg-secondary) !important;
      color: var(--color-primary) !important;
    }
  }
}

/* 确保在黑暗模式下 Popper 也正确显示 */
[data-theme='dark'] .el-popper.is-light {
  .el-dropdown-menu {
    background: #1e1e1e !important;
    border-color: #424242 !important;
    color: #ffffff !important;
  }
  
  .el-dropdown-menu__item {
    color: #ffffff !important;
    background-color: transparent !important;
    
    &:hover {
      background: #2d2d2d !important;
      color: #90caf9 !important;
    }
  }
}

.dark .el-popper.is-light {
  .el-dropdown-menu {
    background: #1e1e1e !important;
    border-color: #424242 !important;
    color: #ffffff !important;
  }
  
  .el-dropdown-menu__item {
    color: #ffffff !important;
    background-color: transparent !important;
    
    &:hover {
      background: #2d2d2d !important;
      color: #90caf9 !important;
    }
  }
}

/* 更强的选择器覆盖 */
html[data-theme='dark'] .el-dropdown-menu,
html.dark .el-dropdown-menu {
  background: #1e1e1e !important;
  border-color: #424242 !important;
  color: #ffffff !important;
}

html[data-theme='dark'] .el-dropdown-menu__item,
html.dark .el-dropdown-menu__item {
  color: #ffffff !important;
  background-color: transparent !important;
}

html[data-theme='dark'] .el-dropdown-menu__item:hover,
html.dark .el-dropdown-menu__item:hover {
  background: #2d2d2d !important;
  color: #90caf9 !important;
}

html[data-theme='dark'] .el-dropdown-menu__item .el-icon,
html.dark .el-dropdown-menu__item .el-icon {
  color: #ffffff !important;
}

html[data-theme='dark'] .el-dropdown-menu__item span,
html.dark .el-dropdown-menu__item span {
  color: #ffffff !important;
} 